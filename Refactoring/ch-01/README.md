# Ch-01. 리팩터링: 첫 번째 예시

## 👎 Why (이유, 목적)

- 코드가 너무 길어서 함수를 나눠야 한다.
- 마침 switch문을 보니 공연 요금 계산을 목적으로 한 코드인게 잘 드러난다.
- 이러한 코드가 함수로 분리하기에 용이하다.

## 👨‍💻 How (행동)

- **함수 추출하기 (6-1)**

  - **코드가 하는 일**을 잘 보여줄 수 있는 함수명을 짓는다.
  - 함수를 빼냈을 때 **유효 범위를 벗어나는 변수**를 매개변수 등으로 잘 관리한다.

- **임시 변수를 질의 함수로 바꾸기 (7-4)**

  - 임시 변수(로컬 변수)는 추출 작업을 복잡하게 만들기 때문이다.

- **변수 인라인하기 (6-4)**

  - 다른 임시 변수도 질의 함수로 대체하여 최종적으로 임시 변수를 제거한다.
  - (변경되지 않는 변수들이 제거하기 용이하다.)

- **함수 선언 바꾸기 (6-5)**

  - 함수의 매개변수도 질의 함수로 대체하여 제거할 수 있다.

- **반복문 쪼개기 (8-7)**

  - 두 가지 이상의 일을 하는 반복문은 수정, 이해, 사용 면에서 모두 불편하다.

- **문장 슬라이드하기 (8-6)**
  - 관련된 코드들이 모여있으면 더욱 이해하기 쉽다.

## 👍 What (결과)

- 함수 분리를 통해 계산 로직을 다 보조 함수로 빼고 메인 로직을 7줄로 줄였다!
- 그리고 분리된 함수는 의미 파악과 유지보수를 용이하게 했다.
- 로컬 변수를 최대한 제거하여서 고려해야할 대상을 줄였다.
- Q. 변수가 질의 함수로 바뀌면서 매번 함수 실행이 되니 비효율적이다.
  - A. 성능에 영향은 있지만 큰 영향은 아니다. 오히려 지역 변수를 제거하여 얻는 장점이 훨씬 크다. 스코프를 고려할 대상이 줄어들게 되면서 추출이 쉬워지기 때문이다.
